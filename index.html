<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Arena - Advanced Chess Application</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Left Pane: Evaluation Bar (Vertical) -->
        <div class="eval-pane">
            <div class="vertical-eval-container">
                <div class="eval-header">
                    <span class="eval-value" id="evaluationText">0.0</span>
                </div>
                <div class="vertical-eval-wrapper">
                    <div class="eval-label-top">White</div>
                    <div class="vertical-eval-bar-container">
                        <div class="vertical-eval-bar" id="evaluationBar"></div>
                        <div class="eval-center-line"></div>
                    </div>
                    <div class="eval-label-bottom">Black</div>
                </div>
            </div>
        </div>

        <!-- Center Pane: Chess Arena -->
        <div class="arena-pane">
            <div class="chessboard-container">
                <div id="chessboard" class="chessboard">
                    <!-- 8x8 grid will be generated by JavaScript -->
                </div>
                <div class="promotion-modal" id="promotionModal" style="display: none;">
                    <div class="promotion-pieces">
                        <button data-piece="q">♕</button>
                        <button data-piece="r">♖</button>
                        <button data-piece="b">♗</button>
                        <button data-piece="n">♘</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Pane: Command Center -->
        <div class="command-pane">
            <!-- Game Mode Selection -->
            <div class="game-mode-section">
                <h2>Game Mode</h2>
                <div class="mode-buttons">
                    <button id="newGamePvAI" class="btn btn-primary">Player vs AI</button>
                    <button id="newGameAIvAI" class="btn btn-secondary">AI vs AI</button>
                </div>
                <div class="side-selection" id="sideSelection">
                    <label>Play as:</label>
                    <button id="playWhite" class="btn-side active">White</button>
                    <button id="playBlack" class="btn-side">Black</button>
                </div>
            </div>

            <!-- AI Difficulty -->
            <div class="difficulty-section">
                <h3>AI Difficulty</h3>
                <div class="difficulty-control">
                    <label for="depthSlider">Search Depth: <span id="depthValue">3</span></label>
                    <input type="range" id="depthSlider" min="2" max="6" value="3" step="1">
                    <div class="difficulty-labels">
                        <span>Easy</span>
                        <span>Medium</span>
                        <span>Hard</span>
                    </div>
                </div>
            </div>

            <!-- Game Controls -->
            <div class="controls-section">
                <h3>Game Controls</h3>
                <div class="control-buttons">
                    <button id="undoMove" class="btn btn-control" title="Undo Move">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M3 10h10a5 5 0 1 1 0 10h-1" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3 10l4-4M3 10l4 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Undo
                    </button>
                    <button id="flipBoard" class="btn btn-control" title="Flip Board">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M7 16V4M17 20V8M3 12l4-4 4 4M21 12l-4 4-4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Flip
                    </button>
                    <button id="resetGame" class="btn btn-control" title="New Game">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M23 4v6h-6M1 20v-6h6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Reset
                    </button>
                </div>
            </div>

            <!-- Moves List -->
            <div class="moves-section">
                <h3>Move History</h3>
                <div class="moves-list" id="movesList">
                    <!-- Moves will be displayed here in algebraic notation -->
                </div>
            </div>

            <!-- Customization -->
            <div class="customization-section">
                <h3>Customization</h3>
                <div class="theme-controls">
                    <div class="theme-option">
                        <label for="boardTheme">Board Theme:</label>
                        <select id="boardTheme">
                            <option value="classic">Classic Green</option>
                            <option value="wood">Wood</option>
                            <option value="marble">Marble</option>
                        </select>
                    </div>
                    <div class="theme-option">
                        <label for="pieceStyle">Piece Style:</label>
                        <select id="pieceStyle">
                            <option value="classic">Classic Staunton</option>
                            <option value="modern">Modern Minimalist</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Game Status -->
            <div class="status-section">
                <div id="gameStatus" class="game-status">
                    Ready to play
                </div>
            </div>
        </div>
    </div>

    <!-- Load JavaScript modules -->
    <script src="lib/evaluation.js"></script>
    <script src="chess-engine.js"></script>
    <script src="ai-engine.js"></script>
    <script src="ui-controller.js"></script>
    <script src="app.js"></script>
</body>
</html>